{% extends 'fe/base.html.twig' %}
{% block title %}{{ "address_book_txt"|trans }}{% endblock %}
{% import 'fe/macros.html.twig' as macros %}

{% block stylesheets %}
    {{ parent() }}

    {{ macros.assetCSS(asset('pages-assets/profile-address-book/profile-address-book.styles.css')) }}
{% endblock %}

{% block content %}
    {% include "fe/_pages_header.html.twig" with {"pageTitle": "address_book_txt"|trans, "marginBottomZero": true } %}

    <div class="wrapper-profile">
        <div class="l-container">
            <div class="l-flex-row">
                <div class="l-flex-col-xl-3 wrapper-profile-sidebar" data-profile-sidebar="true">
                    {% include "user/frontEnd/profile/_sidemenu.html.twig" %}
                </div>
                <div class="l-flex-col-xl-9 wrapper-profile-card" data-profile-card="true">
                    <div class="card-header">
                        <button class="back-btn" data-profile-card-btn="true">
                            <svg width="10" height="17" viewBox="0 0 10 17" fill="none"
                                 xmlns="http://www.w3.org/2000/svg">
                                <path d="M0.261816 8.79401L7.52177 16.0538C7.68968 16.2219 7.91383 16.3145 8.15283 16.3145C8.39184 16.3145 8.61599 16.2219 8.7839 16.0538L9.31855 15.5193C9.66645 15.171 9.66645 14.6049 9.31855 14.2572L3.22219 8.16082L9.32531 2.0577C9.49323 1.88965 9.58594 1.66563 9.58594 1.42676C9.58594 1.18762 9.49323 0.963606 9.32531 0.795426L8.79067 0.261047C8.62262 0.0930003 8.39861 0.000423328 8.1596 0.000423307C7.92059 0.000423286 7.69644 0.0930002 7.52853 0.261047L0.261816 7.5275C0.0935038 7.69607 0.00105931 7.92115 0.00158953 8.16042C0.00105927 8.40062 0.0935037 8.62557 0.261816 8.79401Z"
                                      fill="#686868"/>
                            </svg>
                        </button>
                        <div>
                            <h2 class="title">{{ "address_book_txt"|trans }}</h2>
                            <p class="subtitle">{{ "address_book_description_txt"|trans }}</p>
                        </div>
                        <div class="action">
                            <button class="btn btn-primary btn-md btn-block btn-rounded" type="button"
                                    data-add-address-btn="true" data-l-modal-btn="address-add">
                                {{ "add_new_address_txt"|trans }}
                            </button>
                        </div>
                    </div>
                    <div class="wrapper-empty-addresses-placeholder" style="display: block;"
                         data-no-addresses-wrapper="true">
                        <svg width="92" height="120" viewBox="0 0 92 120" fill="none"
                             xmlns="http://www.w3.org/2000/svg">
                            <path d="M88.626 105.613C88.626 109.903 83.9971 113.58 75.2422 116.243C67.2783 118.665 56.729 120 45.5303 120C34.3315 120 23.7822 118.665 15.8184 116.243C7.06348 113.58 2.43457 109.903 2.43457 105.613C2.43457 101.324 7.06348 97.6494 15.8184 94.9858C18.2769 94.2388 20.9844 93.5942 23.8799 93.0596C30.3594 91.8657 37.791 91.2285 45.5303 91.2285C53.2695 91.2285 60.6987 91.8657 67.1782 93.0596C70.0737 93.5918 72.7813 94.2388 75.2422 94.9858C83.9971 97.6494 88.626 101.324 88.626 105.613Z"
                                  fill="#79BBC3"/>
                            <path d="M67.1782 93.0596L51.1382 109.085C49.6416 110.582 47.6494 111.407 45.5303 111.407C43.4111 111.407 41.4189 110.582 39.9199 109.085L23.8799 93.0596C30.3594 91.8657 37.791 91.2285 45.5303 91.2285C53.2695 91.2285 60.6987 91.8657 67.1782 93.0596Z"
                                  fill="#304726"/>
                            <path d="M92 44.0551C92 -12.7864 3.95774 -15.519 0.0929396 41.0767C-1.65112 66.6149 21.4884 92.1464 41.1227 109.203C42.4568 110.36 44.1874 111 45.9816 111C47.7758 111 49.5067 110.361 50.8413 109.205C69.5451 92.9563 92 68.3265 92 44.0551Z"
                                  fill="#EEC337"/>
                            <path d="M80 43.4871C80 62.4756 64.5378 77.9254 45.5308 77.9254C44.4894 77.9254 43.4562 77.878 42.4375 77.7893C24.874 76.22 11.0615 61.4342 11.0615 43.4871C11.0615 25.538 24.874 10.7542 42.4375 9.18493C43.4562 9.09626 44.4894 9.04883 45.5308 9.04883C64.5378 9.04883 80 24.4966 80 43.4871Z"
                                  fill="#EEF0F5"/>
                            <path d="M80 43.4871C80 62.4756 64.5378 77.9254 45.5308 77.9254C44.4894 77.9254 43.4562 77.878 42.4375 77.7893C60.001 76.22 73.8135 61.4342 73.8135 43.4871C73.8135 25.538 60.001 10.7542 42.4375 9.18493C43.4562 9.09626 44.4894 9.04883 45.5308 9.04883C64.5378 9.04883 80 24.4966 80 43.4871Z"
                                  fill="#DAE1EA"/>
                            <path d="M62.2999 37.5881L46.4832 25.2151C45.9233 24.7773 45.1372 24.7773 44.5774 25.2151L28.7607 37.5881C28.386 37.8814 28.167 38.3307 28.167 38.8062V58.2728C28.167 59.1271 28.8595 59.8194 29.7136 59.8194H61.347C62.2011 59.8194 62.8936 59.1271 62.8936 58.2728V38.8062C62.8936 38.3307 62.6746 37.8814 62.2999 37.5881Z"
                                  fill="#EEC337"/>
                            <path d="M66.5271 39.0391L46.4835 23.3596C45.9237 22.9218 45.1376 22.9218 44.5777 23.3596L24.5342 39.0391C23.8613 39.5654 23.7427 40.5375 24.269 41.2102C24.795 41.8827 25.7672 42.0021 26.44 41.4754L45.5306 26.5413L64.6212 41.4754C64.9041 41.6967 65.2398 41.8039 65.5731 41.8039C66.0325 41.8039 66.4875 41.6001 66.7925 41.2102C67.3185 40.5373 67.1999 39.5652 66.5271 39.0391Z"
                                  fill="#79BBC3"/>
                            <path d="M38.3113 43.1035C37.4571 43.1035 36.7646 43.7958 36.7646 44.6501V50.9099C36.7646 51.7642 37.4571 52.4565 38.3113 52.4565C39.1654 52.4565 39.8579 51.7642 39.8579 50.9099V44.6504C39.8579 43.796 39.1654 43.1035 38.3113 43.1035Z"
                                  fill="white"/>
                            <path d="M45.5291 43.1035C44.6749 43.1035 43.9824 43.7958 43.9824 44.6501V50.9099C43.9824 51.7642 44.6749 52.4565 45.5291 52.4565C46.3832 52.4565 47.0757 51.7642 47.0757 50.9099V44.6504C47.0757 43.796 46.3832 43.1035 45.5291 43.1035Z"
                                  fill="white"/>
                            <path d="M52.7468 43.1035C51.8927 43.1035 51.2002 43.7958 51.2002 44.6501V50.9099C51.2002 51.7642 51.8927 52.4565 52.7468 52.4565C53.601 52.4565 54.2935 51.7642 54.2935 50.9099V44.6504C54.2935 43.796 53.601 43.1035 52.7468 43.1035Z"
                                  fill="white"/>
                            <path d="M45.5291 33.7773C44.6749 33.7773 43.9824 34.4696 43.9824 35.324V37.5967C43.9824 38.4511 44.6749 39.1433 45.5291 39.1433C46.3832 39.1433 47.0757 38.4511 47.0757 37.5967V35.324C47.0757 34.4696 46.3832 33.7773 45.5291 33.7773Z"
                                  fill="white"/>
                        </svg>
                        <p>{{ "didnt_have_address_txt"|trans }}</p>
                        <button type="button" class="btn btn-primary btn-md btn-rounded" data-l-modal-btn="address-add">
                            <span class="text">{{ "add_new_address_txt"|trans }}</span>
                        </button>
                    </div>
                    <div style="display: none;" data-addresses-wrapper="true">
                        <div class="section" style="display: none;" data-default-address-wrapper="true">
                            <h5 class="title">{{ "default_address_txt"|trans }}</h5>
                            <div class="addresses" data-default-address="true">
                            </div>
                            <template data-address-template="true">
                                <div class="address-card" data-address-card="true">
                                    <p class="name">__name__</p>
                                    <table class="details-table">
                                        <tbody>
                                        <tr>
                                            <th>{{ "address_txt"|trans }}</th>
                                            <td>__address__</td>
                                        </tr>
                                        <tr>
                                            <th>{{ "mobile_txt"|trans }}</th>
                                            <td>__mobile__</td>
                                        </tr>
                                        </tbody>
                                    </table>
                                    <div class="actions">
                                        <button data-address-card-remove-btn="true">Remove</button>
                                        <button data-l-modal-btn="address-add"
                                                data-address-card-edit-btn="true">{{ "edit_txt"|trans }}</button>
                                        <button style="display: none;" class="primary"
                                                data-address-card-default-btn="true">{{ "set_as_default_txt"|trans }}</button>
                                    </div>
                                </div>
                            </template>
                        </div>
                        <div class="section">
                            <h5 class="title" data-address-list-title="true">{{ "other_addresses_txt"|trans }}</h5>
                            <div class="addresses" data-address-list="true">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
{% endblock %}

{% block modals %}
    <div class="l-modal-dialog ui-modal-dialog" data-l-modal="address-add" data-address-add-modal="true">
        <div class="ui-modal l-modal wrapper-address-modal">
            <div class="wrapper-address-modal-header">
                <button class="btn" type="button" data-l-modal-btn="address-add">
                    <svg width="23" height="22" viewBox="0 0 23 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M2.10977 21.9881C1.56411 22.0198 1.02748 21.8384 0.61303 21.4821C-0.204343 20.6599 -0.204343 19.3319 0.61303 18.5097L18.5108 0.611823C19.361 -0.183682 20.695 -0.13946 21.4905 0.71068C22.2098 1.47946 22.2518 2.66109 21.5886 3.47888L3.5854 21.4821C3.17629 21.8333 2.64827 22.0143 2.10977 21.9881Z"
                              fill="#646464"/>
                        <path d="M19.9869 21.9886C19.4339 21.9863 18.9039 21.7667 18.5112 21.3773L0.61335 3.47936C-0.143904 2.59506 -0.0409514 1.26424 0.843344 0.506919C1.6326 -0.168973 2.7966 -0.168973 3.58579 0.506919L21.589 18.4048C22.439 19.2005 22.4829 20.5346 21.6872 21.3845C21.6555 21.4183 21.6228 21.451 21.589 21.4827C21.1482 21.866 20.568 22.0492 19.9869 21.9886Z"
                              fill="#646464"/>
                    </svg>
                </button>
            </div>
            <div class="wrapper-address-modal-body">
                <div class="wrapper-address-modal-body-header">
                </div>
                <div>
                    <form action="" data-form-validate="true" data-address-add-form="true">
                        <div class="l-flex-row">
                            <div class="l-flex-col-xl-6">
                                <div class="form-input-box" data-form-validate-input-box="true">
                                    <label class="stack-input stack-input-block" data-stack-input="true">
                                            <span class="label"
                                                  data-stack-input-label="true">{{ "title_txt"|trans }}</span>
                                        <input type="text" class="input" data-stack-input-input="true" name="title"
                                               autocomplete="off" data-validate-input="title"
                                               data-form-validate-input-rules="required"
                                               placeholder="{{ "title_txt"|trans }}"/>
                                    </label>
                                    <ul class="form-input-errors" data-validate-input-errors="title">
                                    </ul>
                                </div>
                            </div>
                            <div class="l-flex-col-xl-6">
                                <div class="form-input-box" data-form-validate-input-box="true">
                                    <label class="stack-input stack-input-block" data-stack-input="true">
                                        <span class="label"
                                              data-stack-input-label="true">{{ "mobile_txt"|trans }}</span>
                                        <input type="text" class="input" data-stack-input-input="true"
                                               name="mobileNumber" autocomplete="tel" data-validate-input="mobile"
                                               data-form-validate-input-rules="required|phone"
                                               placeholder="{{ "mobile_txt"|trans }}"/>
                                    </label>
                                    <ul class="form-input-errors" data-validate-input-errors="mobile">
                                    </ul>
                                </div>
                            </div>
                            <div class="l-flex-col-xl-8">
                                <div class="form-input-box" data-form-validate-input-box="true">
                                    <label class="stack-input stack-input-block" data-stack-input="true">
                                        <span class="label"
                                              data-stack-input-label="true">{{ "address_txt"|trans }}</span>
                                        <input type="text" class="input" data-stack-input-input="true"
                                               name="address"
                                               autocomplete="street-address" data-validate-input="address"
                                               data-form-validate-input-rules="required"
                                               placeholder="{{ "address_txt"|trans }}"/>
                                    </label>
                                    <ul class="form-input-errors" data-validate-input-errors="address">
                                    </ul>
                                </div>
                            </div>
                            <div class="l-flex-col-xl-4">
                                <div class="form-input-box" data-form-validate-input-box="true">
                                    <label class="stack-input stack-input-select stack-input-block"
                                           data-stack-input="true">
                                            <span class="label"
                                                  data-stack-input-label="true">{{ "city_txt"|trans }}</span>
                                        <select class="input" data-stack-input-input="true" name="zoneId"
                                                autocomplete="address-level2" data-validate-input="governorate"
                                                data-form-validate-input-rules="required"
                                                placeholder="{{ "city_txt"|trans }}">
                                            <option value="" selected>{{ "city_txt"|trans }}</option>
                                            {% for zone in zones %}
                                                <option value="{{ zone.id }}">{{ zone.title }}</option>
                                            {% endfor %}
                                        </select>
                                    </label>
                                    <ul class="form-input-errors" data-validate-input-errors="governorate">
                                    </ul>
                                </div>
                            </div>
                        </div>
                        <div class="l-flex-row">
                            <div class="l-flex-col-xl-9"></div>
                            <div class="l-flex-col-xl-3">
                                <button class="btn btn-primary btn-md btn-block btn-rounded" type="submit">
                                    {{ "save_txt"|trans }}
                                </button>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
{% endblock %}

{% block javascripts %}
    {{ parent() }}
    {{ macros.assetCSS(asset('pages-assets/profile-address-book/profile-address-book.lazy.styles.css'), true) }}

    {{ macros.assetJS(asset('pages-assets/profile-address-book/profile-address-book.js')) }}
    {{ macros.assetJS(asset('pages-assets/profile-address-book/profile-address-book.lazy.js'), true) }}
{% endblock %}
