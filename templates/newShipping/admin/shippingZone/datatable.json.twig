{% macro title(shippingZone) %}
{% apply spaceless %}
    <span {% if shippingZone.zones.count>0 %}data-popup='tooltip' data-placement='right' title='{% for zone in shippingZone.zones %}{{ zone.title }}{{ loop.last == false ? ', ' }}{% endfor %}'{% endif %}>{{ shippingZone.title }}</span>
{% endapply %}
{% endmacro %}
{
    "recordsTotal": {{ recordsTotal }},
    "recordsFiltered": {{ recordsFiltered }},
    "data": [
        {% for shippingZone in shippingZones %}
        [
            "{{ shippingZone.id }}",
            "{{ _self.title(shippingZone) }}",
            "{% if shippingZone.created %}{{ shippingZone.created|date('d/m/Y') }}{% else %}--{% endif %}",
            "<ul class='icons-list'><li class='dropdown'><a href='#' class='dropdown-toggle' data-toggle='dropdown'><i class='icon-menu9'></i></a><ul class='dropdown-menu dropdown-menu-right'>{% if is_granted('ROLE_ADMIN') %}<li><a href='{{ path('shipping_zone_edit',{'id':shippingZone.id}) }}'><i class='icon-pencil7'></i> Edit</a></li><li><a href='#' class='delete-btn' data-toggle='modal' data-target='#modal_delete' data-delete='{{ path('shipping_zone_delete',{'id':shippingZone.id}) }}'><i class='icon-bin'></i> Remove</a></li>{% endif %}</ul></li></ul>"

        ]{% if loop.last == false %},{% endif %}
        {% endfor %}
    ]
}