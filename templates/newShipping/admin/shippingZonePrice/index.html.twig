{% extends 'adminTemplate/base.html.twig' %}
{% set page_title %}Shipping Prices for "{{ shippingTime.name }}" {% endset %}
{% block stylesheets %}
    {{ parent() }}
{% endblock stylesheets %}
{% block breadcrumb %}
    <div class="breadcrumb-line">
        <ul class="breadcrumb">
            <li><a href="{{ path('dashboard') }}"><i class="icon-home2 position-left"></i>Dashboard</a></li>
            <li>Shipping Prices</li>
            <li class="active">{{ page_title }}</li>
        </ul>

        <ul class="breadcrumb-elements">
            <li class="dropdown">
                <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                    <i class="icon-cloud-upload2 position-left"></i>
                    Import CSV
                    <span class="caret"></span>
                </a>

                <ul class="dropdown-menu dropdown-menu-right">
                    {% for name, value in staticVariable("\\App\\NewShippingBundle\\Entity\\ShippingZonePrice","calculators") %}
                        <li>
                            <a href="{{ path('shipping_zone_price_import_csv', {"shippingTime":shippingTime.id, "calculator": value}) }}">{{ name }}</a>
                        </li>
                    {% endfor %}
                </ul>
            </li>
            {% if shippingZonePriceCount > 0 %}
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                        <i class="icon-cloud-download position-left"></i>
                        Export CSV
                        <span class="caret"></span>
                    </a>

                    <ul class="dropdown-menu dropdown-menu-right">
                        {% for name, value in staticVariable("\\App\\NewShippingBundle\\Entity\\ShippingZonePrice","calculators") %}
                            <li>
                                <a href="{{ path('shipping_zone_price_export_csv', {"shippingTime":shippingTime.id, "calculator": value, "v": random() }) }}">{{ name }}</a>
                            </li>
                        {% endfor %}
                    </ul>
                </li>
            {% endif %}
        </ul>
    </div>
{% endblock %}
{% block body %}
    {% if is_granted('ROLE_ADMIN') %}
        <ul class="fab-menu fab-menu-fixed fab-menu-bottom-right">
            <li>
                <a href="{{ path('shipping_zone_price_new', {"shippingTime":shippingTime.id}) }}"
                   class="fab-menu-btn btn bg-blue btn-float btn-rounded btn-icon">
                    <i class="fab-icon-open icon-plus3"></i>
                    <i class="fab-icon-close icon-cross2"></i>
                </a>
            </li>
        </ul>
    {% endif %}
    <!-- Ajax sourced data -->
    <div class="panel panel-flat">
        <div class="panel-body">
            <table class="table datatable-ajax table-striped datatable-responsive">
                <thead>
                <tr>
                    <th>Source Shipping Zone</th>
                    <th>Target Shipping Zone</th>
                    <th>Calculator</th>
                    <th>Currency</th>
                    <th>Courier</th>
                    <th>Created</th>
                    <th>Action</th>
                </tr>
                </thead>
                <tbody>

                </tbody>
            </table>
        </div>
    </div>
    <!-- /ajax sourced data -->

{% endblock %}
{% block javascripts %}
    {{ parent() }}
    <script type="text/javascript" src="{{ asset('admin/js/plugins/tables/datatables/datatables.min.js') }}"></script>
    <script type="text/javascript" src="{{ asset('admin/js/plugins/forms/selects/select2.min.js') }}"></script>
    {{ include('adminTemplate/datatable.html.twig', {'path':path('shipping_zone_price_datatable', {"shippingTime":shippingTime.id })}) }}
{% endblock javascripts %}
