import { createNode } from "../../helpers/dom";

const icons = {
    info: `<svg width="50" height="50" viewBox="0 0 50 50" fill="none" xmlns="http://www.w3.org/2000/svg">
                <rect width="50" height="50" rx="15" fill="#016CE5"/>
                <rect x="7" y="7" width="36" height="36" rx="18" fill="white"/>
                <path d="M22.125 25C22.7466 25 23.25 25.5034 23.25 26.125V30.625C23.25 31.2466 22.7466 31.75 22.125 31.75H21V34H30V31.75H28.8795C28.2596 31.75 27.7545 31.2466 27.7545 30.625L27.75 22.75H21V25H22.125Z" fill="#016CE5"/>
                <path d="M25.5 20.5C26.7426 20.5 27.75 19.4926 27.75 18.25C27.75 17.0074 26.7426 16 25.5 16C24.2574 16 23.25 17.0074 23.25 18.25C23.25 19.4926 24.2574 20.5 25.5 20.5Z" fill="#016CE5"/>
            </svg>`,
    success: `<svg width="50" height="50" viewBox="0 0 50 50" fill="none" xmlns="http://www.w3.org/2000/svg">
                <rect width="50" height="50" rx="15" fill="#37A446"/>
                <rect x="7" y="7" width="36" height="36" rx="18" fill="white"/>
                <path d="M17.5 25L23 30.5L33.5 20" stroke="#37A446" stroke-width="3"/>
            </svg>`,
    warning: `<svg width="50" height="50" viewBox="0 0 50 50" fill="none" xmlns="http://www.w3.org/2000/svg">
                <rect width="50" height="50" rx="15" fill="#EE9500"/>
                <path d="M22.2941 10.637L8.77518 34.0508C8.53098 34.4736 8.40239 34.9533 8.40234 35.4416C8.4023 35.9298 8.5308 36.4095 8.77492 36.8324C9.01904 37.2552 9.37018 37.6064 9.79304 37.8505C10.2159 38.0946 10.6956 38.2231 11.1839 38.2231H38.2196C38.7079 38.2231 39.1875 38.0946 39.6104 37.8505C40.0333 37.6064 40.3844 37.2552 40.6285 36.8324C40.8727 36.4095 41.0012 35.9298 41.0011 35.4416C41.0011 34.9533 40.8725 34.4736 40.6283 34.0508L27.1108 10.637C26.8667 10.2143 26.5156 9.86321 26.0929 9.61914C25.6701 9.37507 25.1906 9.24658 24.7025 9.24658C24.2143 9.24658 23.7348 9.37507 23.312 9.61914C22.8893 9.86321 22.5382 10.2143 22.2941 10.637Z" fill="white"/>
                <path d="M24.8788 17.8584H24.5261C23.6579 17.8584 22.9541 18.5622 22.9541 19.4304V26.9446C22.9541 27.8128 23.6579 28.5166 24.5261 28.5166H24.8788C25.747 28.5166 26.4508 27.8128 26.4508 26.9446V19.4304C26.4508 18.5622 25.747 17.8584 24.8788 17.8584Z" fill="#EE9500"/>
                <path d="M24.7025 34.4762C25.6681 34.4762 26.4508 33.6935 26.4508 32.7279C26.4508 31.7623 25.6681 30.9795 24.7025 30.9795C23.7369 30.9795 22.9541 31.7623 22.9541 32.7279C22.9541 33.6935 23.7369 34.4762 24.7025 34.4762Z" fill="#EE9500"/>
            </svg>`,
    error: `<svg width="50" height="50" viewBox="0 0 50 50" fill="none" xmlns="http://www.w3.org/2000/svg">
                <rect width="50" height="50" rx="15" fill="#E74521"/>
                <path d="M22.2941 10.637L8.77518 34.0508C8.53098 34.4736 8.40239 34.9533 8.40234 35.4416C8.4023 35.9298 8.5308 36.4095 8.77492 36.8324C9.01904 37.2552 9.37018 37.6064 9.79304 37.8505C10.2159 38.0946 10.6956 38.2231 11.1839 38.2231H38.2196C38.7079 38.2231 39.1875 38.0946 39.6104 37.8505C40.0333 37.6064 40.3844 37.2552 40.6285 36.8324C40.8727 36.4095 41.0012 35.9298 41.0011 35.4416C41.0011 34.9533 40.8725 34.4736 40.6283 34.0508L27.1108 10.637C26.8667 10.2143 26.5156 9.86321 26.0929 9.61914C25.6701 9.37507 25.1906 9.24658 24.7025 9.24658C24.2143 9.24658 23.7348 9.37507 23.312 9.61914C22.8893 9.86321 22.5382 10.2143 22.2941 10.637Z" fill="white"/>
                <path d="M24.8788 17.8584H24.5261C23.6579 17.8584 22.9541 18.5622 22.9541 19.4304V26.9446C22.9541 27.8128 23.6579 28.5166 24.5261 28.5166H24.8788C25.747 28.5166 26.4508 27.8128 26.4508 26.9446V19.4304C26.4508 18.5622 25.747 17.8584 24.8788 17.8584Z" fill="#E74521"/>
                <path d="M24.7025 34.4762C25.6681 34.4762 26.4508 33.6935 26.4508 32.7279C26.4508 31.7623 25.6681 30.9795 24.7025 30.9795C23.7369 30.9795 22.9541 31.7623 22.9541 32.7279C22.9541 33.6935 23.7369 34.4762 24.7025 34.4762Z" fill="#E74521"/>
            </svg>`,
}

export default class LayoutToast {
    constructor(text, type = 'info', timeout = 3000) {
        const toast = document.createElement('div');
        toast.classList.add(`l-toast`);
        toast.classList.add(`ui-toast`);
        toast.classList.add(type);
        const icon = createNode(icons[type]);
        toast.appendChild(icon);
        const content = document.createElement('span');
        content.innerHTML = text;
        toast.appendChild(content);
        const btn = createNode(`<svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M1.2522 13.522C0.928338 13.5409 0.609834 13.4332 0.363849 13.2217C-0.121283 12.7337 -0.121283 11.9455 0.363849 11.4575L10.9866 0.8347C11.4912 0.362547 12.283 0.388794 12.7551 0.893374C13.1821 1.34966 13.207 2.05099 12.8134 2.53637L2.12802 13.2217C1.88521 13.4302 1.57182 13.5376 1.2522 13.522Z" fill="#686868"/>
                        <path d="M11.8621 13.522C11.5338 13.5206 11.2192 13.3903 10.9862 13.1592L0.363361 2.53628C-0.0860886 2.01142 -0.0249836 1.22155 0.499868 0.77206C0.968312 0.370902 1.65917 0.370902 2.12758 0.77206L12.813 11.3949C13.3174 11.8672 13.3435 12.659 12.8712 13.1634C12.8524 13.1835 12.833 13.2029 12.813 13.2217C12.5513 13.4492 12.207 13.558 11.8621 13.522Z" fill="#686868"/>
                    </svg>`);
        toast.appendChild(btn);

        document.querySelector('[data-toasts="true"]').appendChild(toast);

        toast.addEventListener('click', () => toast.remove());

        setTimeout(() => {
            toast.remove();
        }, timeout);
    }
}